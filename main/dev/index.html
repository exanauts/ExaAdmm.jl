<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Development Guide · ExaAdmm.jl</title><meta name="title" content="Development Guide · ExaAdmm.jl"/><meta property="og:title" content="Development Guide · ExaAdmm.jl"/><meta property="twitter:title" content="Development Guide · ExaAdmm.jl"/><meta name="description" content="Documentation for ExaAdmm.jl."/><meta property="og:description" content="Documentation for ExaAdmm.jl."/><meta property="twitter:description" content="Documentation for ExaAdmm.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ExaAdmm.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Development Guide</a><ul class="internal"><li><a class="tocitem" href="#Algorithm-overview"><span>Algorithm overview</span></a></li><li><a class="tocitem" href="#Implementation-steps"><span>Implementation steps</span></a></li><li><a class="tocitem" href="#A-list-of-functions-required-to-implement"><span>A list of functions required to implement</span></a></li><li><a class="tocitem" href="#Notes-for-GPU"><span>Notes for GPU</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Development Guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Development Guide</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/exanauts/ExaAdmm.jl/blob/main/docs/src/dev.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Development-Guide"><a class="docs-heading-anchor" href="#Development-Guide">Development Guide</a><a id="Development-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Development-Guide" title="Permalink"></a></h1><p>This describes the steps to implement new model that can be solved by the algorithms provided in this package.</p><h2 id="Algorithm-overview"><a class="docs-heading-anchor" href="#Algorithm-overview">Algorithm overview</a><a id="Algorithm-overview-1"></a><a class="docs-heading-anchor-permalink" href="#Algorithm-overview" title="Permalink"></a></h2><p>Two-level ADMM algorithm can be implemented by defining the functions called in the while loop of <code>admm_two_level()</code> function in <code>algorithms/admm_two_level.jl</code> file. These functions take two arguments of type <code>AdmmEnv</code> and <code>AbstractOPFModel</code>. You need to define your model structure that inherits <code>AbstractOPFModel</code> so that those functions can be called using multiple dispatching.</p><h3 id="Mathematical-description"><a class="docs-heading-anchor" href="#Mathematical-description">Mathematical description</a><a id="Mathematical-description-1"></a><a class="docs-heading-anchor-permalink" href="#Mathematical-description" title="Permalink"></a></h3><p>It is important to understand the algorithm implemented in this package before implementing one for your own model.</p><p>The algorithm aims at solving the following optimization problem</p><p class="math-container">\[\begin{align*}
\min_{x_i \in X_i,\bar{x} \in \bar{X},z} \quad &amp; \sum_{i=1}^N f_i(x_i) \\
\text{subject to} \quad &amp; x - \bar{x} + z = 0 &amp; (\lambda) \\
&amp; z = 0 &amp; (\lambda_z) \\
&amp; x:=(x_1,\dots,x_N)
\end{align*}\]</p><p>by using the form of augmented Lagrangian method as follows:</p><ol><li>Initialize <span>$\lambda_z$</span> and <span>$\beta$</span>.</li><li>Solve the following problem for given <span>$(\lambda_z,\beta)$</span>:</li></ol><p class="math-container">\[\begin{align*}
\min_{x_i \in X_i,\bar{x} \in \bar{X},z} \quad &amp; \sum_{i=1}^N f_i(x_i) + \lambda_z^T z + \frac{\beta}{2} \|z\|_2^2 \tag{AugLag} \\
\text{subject to} \quad &amp; x - \bar{x} + z = 0 &amp; (\lambda)
\end{align*}\]</p><ol><li>Update <span>$\lambda_z$</span></li><li>Repeat steps 2-3 until <span>$z \approx 0$</span>.</li></ol><h2 id="Implementation-steps"><a class="docs-heading-anchor" href="#Implementation-steps">Implementation steps</a><a id="Implementation-steps-1"></a><a class="docs-heading-anchor-permalink" href="#Implementation-steps" title="Permalink"></a></h2><p>We encourage to follow our naming convention for the files created for your own model. In this description, we assume that we are creating our own model called <code>myopf</code>. The steps required to implement the two-level ADMM algorithm for the model <code>myopf</code> are as follows:</p><ol><li><p>Create a directory <code>models/myopf</code> for your own model.</p></li><li><p>Create a file <code>models/myopf/myopf_model.jl</code> to define the model structure from <code>AbstractOPFModel</code>.</p><pre><code class="language-julia hljs">mutable struct ModelMyopf{T,TD,TI,TM} &lt;: AbstractOPFModel{T,TD,TI,TM}
    # ...
end</code></pre><p>Examples are available in <code>models/acopf/acopf_model.jl</code> and <code>models/mpacopf_model.jl</code>.</p></li><li><p>Implement all necessary functions: <a href="#A-list-of-functions-required-to-implement">A list of functions required to implement</a></p></li></ol><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p><code>ExaAdmm.jl</code> provides a default implementation for each function, dispatching on <code>AbstractOPFModel</code>. This default implementation matches the behavior of <code>ModelAcopf</code>, and allow the user to avoid overloading if the behavior of the new model <code>ModelMyopf</code> matches those of <code>ModelAcopf</code> for a particular function.</p></div></div><h2 id="A-list-of-functions-required-to-implement"><a class="docs-heading-anchor" href="#A-list-of-functions-required-to-implement">A list of functions required to implement</a><a id="A-list-of-functions-required-to-implement-1"></a><a class="docs-heading-anchor-permalink" href="#A-list-of-functions-required-to-implement" title="Permalink"></a></h2><p>Define the following functions that will take your new model structure:</p><h3 id="Functions-in-myopf_admm_increment_outer.jl"><a class="docs-heading-anchor" href="#Functions-in-myopf_admm_increment_outer.jl">Functions in <code>myopf_admm_increment_outer.jl</code></a><a id="Functions-in-myopf_admm_increment_outer.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-in-myopf_admm_increment_outer.jl" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExaAdmm.admm_increment_outer-Tuple{ExaAdmm.AdmmEnv, ExaAdmm.AbstractOPFModel}" href="#ExaAdmm.admm_increment_outer-Tuple{ExaAdmm.AdmmEnv, ExaAdmm.AbstractOPFModel}"><code>ExaAdmm.admm_increment_outer</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Increment outer iteration counter by one.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/exanauts/ExaAdmm.jl/blob/dacd26e0e74a30baf8eaaeec7c0dcdf7bcb4b91c/src/models/acopf/acopf_admm_increment.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExaAdmm.admm_increment_reset_inner-Tuple{ExaAdmm.AdmmEnv, ExaAdmm.AbstractOPFModel}" href="#ExaAdmm.admm_increment_reset_inner-Tuple{ExaAdmm.AdmmEnv, ExaAdmm.AbstractOPFModel}"><code>ExaAdmm.admm_increment_reset_inner</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Reset inner iteration counter to zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/exanauts/ExaAdmm.jl/blob/dacd26e0e74a30baf8eaaeec7c0dcdf7bcb4b91c/src/models/acopf/acopf_admm_increment.jl#L13-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExaAdmm.admm_increment_inner-Tuple{ExaAdmm.AdmmEnv, ExaAdmm.AbstractOPFModel}" href="#ExaAdmm.admm_increment_inner-Tuple{ExaAdmm.AdmmEnv, ExaAdmm.AbstractOPFModel}"><code>ExaAdmm.admm_increment_inner</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Increment inner iteration counter by one.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/exanauts/ExaAdmm.jl/blob/dacd26e0e74a30baf8eaaeec7c0dcdf7bcb4b91c/src/models/acopf/acopf_admm_increment.jl#L25-L27">source</a></section></article><h3 id="Functions-in-myopf_admm_prepoststep_{cpu,gpu}.jl"><a class="docs-heading-anchor" href="#Functions-in-myopf_admm_prepoststep_{cpu,gpu}.jl">Functions in <code>myopf_admm_prepoststep_{cpu,gpu}.jl</code></a><a id="Functions-in-myopf_admm_prepoststep_{cpu,gpu}.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-in-myopf_admm_prepoststep_{cpu,gpu}.jl" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExaAdmm.admm_outer_prestep-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}" href="#ExaAdmm.admm_outer_prestep-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}"><code>ExaAdmm.admm_outer_prestep</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Implement any algorithmic steps required before each outer iteration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/exanauts/ExaAdmm.jl/blob/dacd26e0e74a30baf8eaaeec7c0dcdf7bcb4b91c/src/models/acopf/acopf_admm_prepoststep_cpu.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExaAdmm.admm_inner_prestep-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}" href="#ExaAdmm.admm_inner_prestep-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}"><code>ExaAdmm.admm_inner_prestep</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Implement any algorithmic steps required before each inner iteration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/exanauts/ExaAdmm.jl/blob/dacd26e0e74a30baf8eaaeec7c0dcdf7bcb4b91c/src/models/acopf/acopf_admm_prepoststep_cpu.jl#L14-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExaAdmm.admm_poststep-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}" href="#ExaAdmm.admm_poststep-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}"><code>ExaAdmm.admm_poststep</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Implement any steps required after the algorithm terminates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/exanauts/ExaAdmm.jl/blob/dacd26e0e74a30baf8eaaeec7c0dcdf7bcb4b91c/src/models/acopf/acopf_admm_prepoststep_cpu.jl#L27-L29">source</a></section></article><h3 id="Functions-in-myopf_admm_update_x_{cpu,gpu}.jl"><a class="docs-heading-anchor" href="#Functions-in-myopf_admm_update_x_{cpu,gpu}.jl">Functions in <code>myopf_admm_update_x_{cpu,gpu}.jl</code></a><a id="Functions-in-myopf_admm_update_x_{cpu,gpu}.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-in-myopf_admm_update_x_{cpu,gpu}.jl" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExaAdmm.admm_update_x-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}" href="#ExaAdmm.admm_update_x-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}"><code>ExaAdmm.admm_update_x</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Update variable <code>x</code>, representing the variables for generators and lines in the component-based decomposition of ACOPF.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/exanauts/ExaAdmm.jl/blob/dacd26e0e74a30baf8eaaeec7c0dcdf7bcb4b91c/src/models/acopf/acopf_admm_update_x_cpu.jl#L44-L46">source</a></section></article><h3 id="Functions-in-myopf_admm_update_xbar_{cpu,gpu}.jl"><a class="docs-heading-anchor" href="#Functions-in-myopf_admm_update_xbar_{cpu,gpu}.jl">Functions in <code>myopf_admm_update_xbar_{cpu,gpu}.jl</code></a><a id="Functions-in-myopf_admm_update_xbar_{cpu,gpu}.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-in-myopf_admm_update_xbar_{cpu,gpu}.jl" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExaAdmm.admm_update_xbar-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}" href="#ExaAdmm.admm_update_xbar-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}"><code>ExaAdmm.admm_update_xbar</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Update variable <code>xbar</code>, representing the variables for buses in the component-based decomposition of ACOPF.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/exanauts/ExaAdmm.jl/blob/dacd26e0e74a30baf8eaaeec7c0dcdf7bcb4b91c/src/models/acopf/acopf_admm_update_xbar_cpu.jl#L1-L3">source</a></section></article><h3 id="Functions-in-myopf_admm_update_z_{cpu,gpu}.jl"><a class="docs-heading-anchor" href="#Functions-in-myopf_admm_update_z_{cpu,gpu}.jl">Functions in <code>myopf_admm_update_z_{cpu,gpu}.jl</code></a><a id="Functions-in-myopf_admm_update_z_{cpu,gpu}.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-in-myopf_admm_update_z_{cpu,gpu}.jl" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExaAdmm.admm_update_z-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}" href="#ExaAdmm.admm_update_z-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}"><code>ExaAdmm.admm_update_z</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Update variable <code>z</code>, representing the artificial variables that are driven to zero in the two-level ADMM.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/exanauts/ExaAdmm.jl/blob/dacd26e0e74a30baf8eaaeec7c0dcdf7bcb4b91c/src/models/acopf/acopf_admm_update_z_cpu.jl#L1-L3">source</a></section></article><h3 id="Functions-in-myopf_admm_update_l_{cpu,gpu}.jl"><a class="docs-heading-anchor" href="#Functions-in-myopf_admm_update_l_{cpu,gpu}.jl">Functions in <code>myopf_admm_update_l_{cpu,gpu}.jl</code></a><a id="Functions-in-myopf_admm_update_l_{cpu,gpu}.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-in-myopf_admm_update_l_{cpu,gpu}.jl" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExaAdmm.admm_update_l-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}" href="#ExaAdmm.admm_update_l-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}"><code>ExaAdmm.admm_update_l</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Update multipliers λ for consensus constraints, <code>x - xbar + z = 0</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/exanauts/ExaAdmm.jl/blob/dacd26e0e74a30baf8eaaeec7c0dcdf7bcb4b91c/src/models/acopf/acopf_admm_update_l_cpu.jl#L1-L3">source</a></section></article><h3 id="Functions-in-myopf_admm_update_lz_{cpu,gpu}.jl"><a class="docs-heading-anchor" href="#Functions-in-myopf_admm_update_lz_{cpu,gpu}.jl">Functions in <code>myopf_admm_update_lz_{cpu,gpu}.jl</code></a><a id="Functions-in-myopf_admm_update_lz_{cpu,gpu}.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-in-myopf_admm_update_lz_{cpu,gpu}.jl" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExaAdmm.admm_update_lz-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}" href="#ExaAdmm.admm_update_lz-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}"><code>ExaAdmm.admm_update_lz</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Compute and update multipliers <code>λ_z</code> for the augmented Lagrangian wit respect to <code>z=0</code> constraint.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/exanauts/ExaAdmm.jl/blob/dacd26e0e74a30baf8eaaeec7c0dcdf7bcb4b91c/src/models/acopf/acopf_admm_update_lz_cpu.jl#L1-L3">source</a></section></article><h3 id="Functions-in-myopf_admm_update_residual_{cpu,gpu}.jl"><a class="docs-heading-anchor" href="#Functions-in-myopf_admm_update_residual_{cpu,gpu}.jl">Functions in <code>myopf_admm_update_residual_{cpu,gpu}.jl</code></a><a id="Functions-in-myopf_admm_update_residual_{cpu,gpu}.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-in-myopf_admm_update_residual_{cpu,gpu}.jl" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExaAdmm.admm_update_residual-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}" href="#ExaAdmm.admm_update_residual-Tuple{ExaAdmm.AdmmEnv{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}, ExaAdmm.AbstractOPFModel{Float64, Vector{Float64}, Vector{Int64}, Matrix{Float64}}}"><code>ExaAdmm.admm_update_residual</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Compute and update the primal and dual residuals at current iteration.</p><p><strong>Arguments</strong></p><ul><li><code>env::AdmmEnv</code> – struct that defines the environment of ADMM</li><li><code>mod::ModelAcopf</code> – struct that defines model</li></ul><p><strong>Notes</strong></p><p>The primal and dual residuals are stored in <code>mod.solution.rp</code> and <code>mod.solution.rd</code>, respectively.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/exanauts/ExaAdmm.jl/blob/dacd26e0e74a30baf8eaaeec7c0dcdf7bcb4b91c/src/models/acopf/acopf_admm_update_residual_cpu.jl#L1-L12">source</a></section></article><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Internally, these <code>x</code> and <code>xbar</code> correspond to <code>u</code> and <code>v</code> variables in the code, respectively. Variables <code>u</code> and <code>v</code> have the same structure. For example in ACOPF, the variable stores modeling variable values in the following order:</p><p class="math-container">\[({\color{blue} (p_{g,i}, q_{g,i})_{i=1,\dots,|G|}}, {\color{red} (p_{ij,\ell}, q_{ij,\ell}, p_{ji,\ell}, q_{ji,\ell}, w_{i,\ell}, w_{j,\ell}, t_{i,\ell}, t_{j,\ell})_{\ell=1,\dots,|L|}})\]</p></div></div><h2 id="Notes-for-GPU"><a class="docs-heading-anchor" href="#Notes-for-GPU">Notes for GPU</a><a id="Notes-for-GPU-1"></a><a class="docs-heading-anchor-permalink" href="#Notes-for-GPU" title="Permalink"></a></h2><p>To make your model run on Nvidia GPUs, the <code>AdmmEnv</code> and you also need to implement these functions that take arrays of type <code>CuArray</code>. You can find examples in <code>interface/solve_acopf.jl</code> and <code>interface/solve_mpacopf.jl</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.1 on <span class="colophon-date" title="Sunday 22 October 2023 00:39">Sunday 22 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
